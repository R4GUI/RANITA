<div class="love-app">
  <!-- Hero Section con fondo animado -->
  <section class="hero-section">
    <div class="animated-bg"></div>
    <div class="floating-hearts"></div>
    <div class="hero-content">
      <div class="glowing-border">
        <h1 class="love-title">Te amo <span class="partner-name">{{partnerName}}</span></h1>
        <p class="subtitle">Cada día más, sin límites</p>
        <div class="romantic-phrase">
          <i class="fas fa-quote-left quote-icon"></i>
          <p>{{currentPhrase}}</p>
          <i class="fas fa-quote-right quote-icon"></i>
        </div>
      </div>
    </div>
  </section>

  <!-- Love Meter Section -->
  <section id="love-meter" class="app-section">
    <div class="section-decoration top-decoration"></div>
    <h2 class="section-title">
      <i class="fas fa-heart heart-icon pulse-icon"></i> 
      Medidor de Amor 
      <i class="fas fa-heart heart-icon pulse-icon"></i>
    </h2>
    
    <div class="love-meter-wrapper">
      <div class="love-meter-info">
        <p class="love-meter-label">Nivel de Amor: 
          <span [ngClass]="{'infinite': isInfinite}">
            {{ isInfinite ? '∞' : loveLevel + '%' }}
          </span>
        </p>
      </div>
      
      <div class="love-meter-container">
        <div class="love-meter-fill"></div>
      </div>
      
      <button class="toggle-btn" (click)="toggleInfinite()">
        <i class="fas fa-infinity"></i> {{ isInfinite ? 'Desactivar Infinito' : 'Activar Infinito' }}
      </button>
      
      <p class="love-message">
        {{ isInfinite ? 'Mi amor por ti es infinito y crece cada día más' : 'Te amo un ' + loveLevel + '%' }}
      </p>
    </div>
    <div class="section-decoration bottom-decoration"></div>
  </section>

  <!-- Anniversary Countdown Section -->
  <section id="anniversary" class="app-section">
    <div class="section-decoration top-decoration"></div>
    <h2 class="section-title">
      <i class="fas fa-calendar-heart pulse-icon"></i> 
      Nuestro Aniversario 
      <i class="fas fa-calendar-heart pulse-icon"></i>
    </h2>
    
    <div class="anniversary-container">
      <div class="days-together">
        <div class="counter-circle">
          <span class="counter-number">{{relationshipDays}}</span>
          <span class="counter-label">días</span>
        </div>
        <p class="together-message">Juntos desde el <strong>{{startDate | date:'dd/MM/yyyy'}}</strong></p>
        <div class="months-badge">{{relationshipMonths}} meses de amor</div>
      </div>
      
      <div class="next-anniversary">
        <h3>Próximo aniversario mensual</h3>
        <div class="anniversary-date">{{ nextAnniversaryDate | date:'dd de MMMM yyyy' }}</div>
        <div class="countdown-timer">
          <div class="time-block">
            <span class="time-value">{{days}}</span>
            <span class="time-label">Días</span>
          </div>
          <div class="time-block">
            <span class="time-value">{{hours}}</span>
            <span class="time-label">Horas</span>
          </div>
          <div class="time-block">
            <span class="time-value">{{minutes}}</span>
            <span class="time-label">Minutos</span>
          </div>
          <div class="time-block">
            <span class="time-value">{{seconds}}</span>
            <span class="time-label">Segundos</span>
          </div>
        </div>
      </div>
      
      <div class="milestones">
        <div class="milestones-reached" *ngIf="reachedMilestones.length > 0">
          <h3>Nuestros hitos alcanzados</h3>
          <ul class="milestone-list">
            <li *ngFor="let milestone of reachedMilestones.slice(0, 3)" class="milestone-item">
              <i class="fas fa-heart milestone-icon"></i>
              <span>{{milestone.text}}</span>
            </li>
          </ul>
        </div>
        
        <div class="next-milestone" *ngIf="nextMilestone">
          <h3>Próximo hito</h3>
          <div class="milestone-card">
            <p class="milestone-text">{{nextMilestone.text}}</p>
            <p class="milestone-days">Faltan {{getDaysToNextMilestone()}} días</p>
          </div>
        </div>
      </div>
    </div>
    <div class="section-decoration bottom-decoration"></div>
  </section>

<!-- Sección de Galería con imágenes de Imgur (versión solo HTML) -->
<section id="photos" class="app-section">
  <div class="section-decoration top-decoration"></div>
  <h2 class="section-title">
    <i class="fas fa-camera-retro pulse-icon"></i> 
    Nuestros Momentos 
    <i class="fas fa-camera-retro pulse-icon"></i>
  </h2>
  
  <div class="gallery-container">
    <div class="gallery-intro">
      <p>Algunos de nuestros recuerdos favoritos juntos</p>
    </div>
    
    <div class="photo-gallery">
      <!-- Soporte para modo offline -->
      <ng-container *ngIf="isOnline; else offlineGallery">
        <div class="gallery-item">
          <div class="photo-card">
            <img src="https://i.imgur.com/lcAtZ5H.jpeg" alt="Momento especial 1" class="gallery-img">
            <div class="photo-overlay">
              <i class="fas fa-heart"></i>
            </div>
          </div>
        </div>
        
        <div class="gallery-item">
          <div class="photo-card">
            <img src="https://i.imgur.com/bG8XSkw.jpeg" alt="Momento especial 2" class="gallery-img">
            <div class="photo-overlay">
              <i class="fas fa-heart"></i>
            </div>
          </div>
        </div>
        
        <div class="gallery-item">
          <div class="photo-card">
            <img src="https://i.imgur.com/mcMOBj6.jpeg" alt="Momento especial 3" class="gallery-img">
            <div class="photo-overlay">
              <i class="fas fa-heart"></i>
            </div>
          </div>
        </div>
        
        <div class="gallery-item">
          <div class="photo-card">
            <img src="https://i.imgur.com/XxI0dE1.jpeg" alt="Momento especial 4" class="gallery-img">
            <div class="photo-overlay">
              <i class="fas fa-heart"></i>
            </div>
          </div>
        </div>
        
        <div class="gallery-item">
          <div class="photo-card">
            <img src="https://i.imgur.com/p5kqmLX.jpeg" alt="Momento especial 5" class="gallery-img">
            <div class="photo-overlay">
              <i class="fas fa-heart"></i>
            </div>
          </div>
        </div>
        
        <div class="gallery-item">
          <div class="photo-card">
            <img src="https://i.imgur.com/vCfA64W.jpeg" alt="Momento especial 6" class="gallery-img">
            <div class="photo-overlay">
              <i class="fas fa-heart"></i>
            </div>
          </div>
        </div>
      </ng-container>
      <ng-template #offlineGallery>
        <div class="offline-gallery-message">
          <i class="fas fa-wifi-slash"></i>
          <p>Estás en modo offline. Las fotos estarán disponibles cuando te conectes a internet.</p>
          <p>¡Pero nuestros recuerdos siempre están en nuestros corazones! ❤️</p>
        </div>
      </ng-template>
    </div>
  </div>
  
  <div class="section-decoration bottom-decoration"></div>
</section>

  <!-- Reasons Section -->
  <section id="reasons" class="app-section">
    <div class="section-decoration top-decoration"></div>
    <h2 class="section-title">
      <i class="fas fa-smile-beam pulse-icon"></i> 
      Razones Por Las Que Te Amo 
      <i class="fas fa-smile-beam pulse-icon"></i>
    </h2>
    
    <div class="reasons-container">
      <div class="reasons-wrapper">
        <div class="reason-card" *ngFor="let reason of reasons; let i = index">
          <div class="reason-number">{{i + 1}}</div>
          <div class="reason-text">{{reason}}</div>
          <div class="card-decoration"></div>
        </div>
      </div>
    </div>
    <div class="section-decoration bottom-decoration"></div>
  </section>

<!-- Sección de Canción Actualizada con reproductor a tamaño completo -->
<section id="songs" class="app-section">
  <div class="section-decoration top-decoration"></div>
  <h2 class="section-title">
    <i class="fas fa-music pulse-icon"></i> 
    Canción que me recuerda a Ti
    <i class="fas fa-music pulse-icon"></i>
  </h2>
  
  <div class="songs-container">
    <div class="song-card">
      <div class="song-info">
        <div class="song-cover">
          <img [src]="song.cover" alt="{{song.title}} cover">
        </div>
        <div class="song-details">
          <h3 class="song-title">{{song.title}}</h3>
          <p class="song-artist">{{song.artist}}</p>
        </div>
      </div>
      <div class="song-player">
        <!-- Soporte para modo offline -->
        <ng-container *ngIf="isOnline; else offlinePlayer">
          <!-- Reproductor Spotify a tamaño completo -->
          <iframe 
            style="border-radius:12px" 
            src="https://open.spotify.com/embed/track/1TdaQqgKRbiFdO15q1kv6e?utm_source=generator" 
            width="100%" 
            height="352" 
            frameBorder="0" 
            allowfullscreen="" 
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
            loading="lazy">
          </iframe>
        </ng-container>
        <ng-template #offlinePlayer>
          <div class="offline-player">
            <i class="fas fa-wifi-slash"></i>
            <p>Estás en modo offline. La canción estará disponible cuando te conectes a internet.</p>
            <p class="offline-song-info">"{{song.title}}" - {{song.artist}}</p>
          </div>
        </ng-template>
      </div>
      <div class="song-message">
        "Esta canción me recuerda a ti cada vez que la escucho..."
      </div>
    </div>
  </div>
  <div class="section-decoration bottom-decoration"></div>
</section>

  <!-- Drawing Board Section -->
  <section id="drawing" class="app-section">
    <div class="section-decoration top-decoration"></div>
    <h2 class="section-title">
      <i class="fas fa-paint-brush pulse-icon"></i> 
      Magia Para Ti 
      <i class="fas fa-paint-brush pulse-icon"></i>
    </h2>
    
    <div class="drawing-container">
      <canvas #canvas class="flower-canvas"></canvas>
      <div class="drawing-controls">
        <button class="draw-btn" (click)="drawRandomFlower()">
          <i class="fas fa-paint-brush"></i> Dibujar para ti
        </button>
        <p class="draw-hint">¡Haz clic para crear algo especial y único!</p>
      </div>
    </div>
    <div class="section-decoration bottom-decoration"></div>
  </section>

  <!-- Footer -->
  <footer class="app-footer">
    <div class="footer-decoration"></div>
    <div class="footer-content">
      <p>Hecho con <i class="fas fa-heart heart-icon"></i> para ti</p>
      <p>Desde: {{startDate | date:'dd/MM/yyyy'}}</p>
      <div class="footer-signature">
        De tu persona favorita para la mía
      </div>
    </div>
  </footer>

  <!-- Botón de instalación PWA -->
  <div *ngIf="showInstallButton" class="install-pwa">
    <button (click)="installApp()" class="install-btn">
      <i class="fas fa-download"></i> Instalar App
    </button>
  </div>
</div>